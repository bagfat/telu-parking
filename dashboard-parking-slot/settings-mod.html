<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pengaturan User - Tel-U Parking</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Material Icons - Link yang benar -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="stylesheet" href="settings-mod.css" />
  </head>
  <body>
    <div class="background"></div>
    <div class="sidebar-container">
      <div class="sidebar-logo" title="Logo TelU">
        <img
          src="./assets/logo-telu-parking-v2.png"
          alt="tel-u-parking-logo"
          onclick="goToHome()"
        />
      </div>
      <nav class="sidebar">
        <div class="sidebar-item" title="Home Page" onclick="goToHome()">
          <span class="material-symbols-outlined inactive">cottage</span>
        </div>
        <div class="sidebar-item" title="Statistics" onclick="goToStatistics()">
          <span class="material-symbols-outlined inactive"
            >bar_chart_4_bars</span
          >
        </div>
        <div class="sidebar-item active" title="Settings">
          <span class="material-symbols-outlined active">settings</span>
        </div>
      </nav>
    </div>

    <!-- Main Content -->
    <main class="main-content" role="main" aria-label="Halaman Pengaturan User">
      <!-- Header -->
      <header class="header">
        <div class="mobile-logo">
          <img
            src="./assets/logo-telu-parking-v2.png"
            alt="Tel-U Parking Logo"
            class="mobile-logo-img"
          />
        </div>
        <div class="greeting">
          Halo, <span class="username">Bagus Fatkhurrohman</span>
        </div>
        <div class="header-right" aria-label="Notifikasi dan Profil">
          <form
            class="search-bar"
            role="search"
            aria-label="Pencarian Pengaturan"
            onsubmit="handleSearch(event)"
          >
            <span class="material-symbols-outlined">search</span>
            <input
              type="search"
              placeholder="Mau cari apa nih?"
              aria-label="Kotak pencarian"
              id="searchInput"
            />
          </form>
          <button
            class="icon-button"
            aria-label="Notifikasi"
            onclick="showNotifications()"
          >
            <span class="material-symbols-outlined" id="notifications-icon">
              notifications
            </span>
          </button>
          <img
            class="avatar"
            src="./assets/avatar-mod.png"
            alt="Avatar pengguna Bagus Fatkhurrohman"
            onclick="showProfile()"
            onerror="this.onerror=null;this.src='https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/0c0cb72b-b8c3-4a55-9108-bea1f9c2fbf0.png';"
          />
        </div>
      </header>

      <!-- Content Area -->
      <div class="content-area">
        <h1 class="page-title" aria-label="Judul Pengaturan">
          <span class="material-symbols-outlined">settings</span>
          Pengaturan
        </h1>

        <!-- Bookmark Section -->
        <section class="settings-group" aria-label="Bookmark">
          <div
            class="settings-item"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Bookmark Pengaturan"
            onclick="handleSettingClick('bookmark')"
          >
            <div class="item-left">
              <span class="material-symbols-outlined item-icon">bookmark</span>
              <span class="item-label">Bookmark</span>
            </div>
            <span class="material-symbols-outlined arrow-icon"
              >chevron_right</span
            >
          </div>
        </section>

        <!-- Notification & Language Section -->
        <section
          class="settings-group"
          aria-label="Notifikasi dan Bahasa"
          role="region"
        >
          <div
            class="settings-item"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Notification Pengaturan"
            onclick="handleSettingClick('notification')"
          >
            <div class="item-left">
              <span class="material-symbols-outlined item-icon"
                >notifications</span
              >
              <span class="item-label">Notification</span>
            </div>
            <span class="material-symbols-outlined arrow-icon"
              >chevron_right</span
            >
          </div>
          <div
            class="settings-item"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Language Pengaturan"
            onclick="handleSettingClick('language')"
          >
            <div class="item-left">
              <span class="material-symbols-outlined item-icon">language</span>
              <span class="item-label">Language</span>
            </div>
            <span class="material-symbols-outlined arrow-icon"
              >chevron_right</span
            >
          </div>
        </section>

        <!-- Cache & Cookies Section -->
        <section
          class="settings-group"
          aria-label="Clear Cache dan Cookies"
          role="region"
        >
          <div
            class="settings-item"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Clear Cache Pengaturan"
            onclick="handleSettingClick('clear-cache')"
          >
            <div class="item-left">
              <span class="material-symbols-outlined item-icon">delete</span>
              <span class="item-label">Clear Cache</span>
            </div>
            <span class="material-symbols-outlined arrow-icon"
              >chevron_right</span
            >
          </div>
          <div
            class="settings-item"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Clear Cookies Pengaturan"
            onclick="handleSettingClick('clear-cookies')"
          >
            <div class="item-left">
              <span class="material-symbols-outlined item-icon"
                >delete_sweep</span
              >
              <span class="item-label">Clear Cookies</span>
            </div>
            <span class="material-symbols-outlined arrow-icon"
              >chevron_right</span
            >
          </div>
        </section>

        <!-- Information Section -->
        <section
          class="settings-group"
          aria-label="Copyright and Privacy Information"
          role="region"
        >
          <div
            class="settings-item"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Copyright Information"
            onclick="handleSettingClick('copyright')"
          >
            <div class="item-left">
              <span class="material-symbols-outlined item-icon">info</span>
              <span class="item-label">Copyright Information</span>
            </div>
            <span class="material-symbols-outlined arrow-icon"
              >chevron_right</span
            >
          </div>
          <div
            class="settings-item"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Privacy Policy"
            onclick="handleSettingClick('privacy')"
          >
            <div class="item-left">
              <span class="material-symbols-outlined item-icon">shield</span>
              <span class="item-label">Privacy Policy</span>
            </div>
            <span class="material-symbols-outlined arrow-icon"
              >chevron_right</span
            >
          </div>
          <div
            class="settings-item"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="Version Information"
            onclick="handleSettingClick('version')"
          >
            <div class="item-left">
              <span class="material-symbols-outlined item-icon"
                >description</span
              >
              <span class="item-label">Version Information</span>
            </div>
            <span class="material-symbols-outlined arrow-icon"
              >chevron_right</span
            >
          </div>
        </section>
      </div>
    </main>

    <script>
      // Navigation functions
      function goToHome() {
        window.location.href = "dashboard-mod.html";
      }

      function goToStatistics() {
        window.location.href = "statistics-mod.html";
      }

      // Search function
      function handleSearch(event) {
        event.preventDefault();
        const searchTerm = document.getElementById("searchInput").value;
        console.log("Searching for:", searchTerm);
        if (searchTerm.trim()) {
          window.location.href = `search.html?q=${encodeURIComponent(
            searchTerm
          )}`;
        }
      }

      // Notification function
      function showNotifications() {
        alert("Menampilkan notifikasi");
      }

      // Profile function
      function showProfile() {
        alert("Menampilkan profil user");
      }

      // Settings item handler
      function handleSettingClick(settingType) {
        console.log("Settings item clicked:", settingType);

        switch (settingType) {
          case "bookmark":
            alert("Navigasi ke halaman Bookmark");
            break;
          case "notification":
            alert("Navigasi ke pengaturan Notifikasi");
            break;
          case "language":
            alert("Navigasi ke pengaturan Bahasa");
            break;
          case "clear-cache":
            if (confirm("Apakah Anda yakin ingin membersihkan cache?")) {
              alert("Cache berhasil dibersihkan");
            }
            break;
          case "clear-cookies":
            if (confirm("Apakah Anda yakin ingin membersihkan cookies?")) {
              alert("Cookies berhasil dibersihkan");
            }
            break;
          case "copyright":
            alert("Menampilkan informasi Copyright");
            break;
          case "privacy":
            alert("Menampilkan Privacy Policy");
            break;
          case "version":
            alert("Menampilkan informasi Versi");
            break;
          default:
            console.log("Unknown setting type:", settingType);
        }
      }

      // Keyboard accessibility for settings items
      document.querySelectorAll(".settings-item").forEach((item) => {
        item.addEventListener("keydown", function (e) {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            this.click();
          }
        });
      });

      // Update sidebar active state
      function updateSidebarActive(activeIndex) {
        const sidebarItems = document.querySelectorAll(".sidebar-item");
        const icons = document.querySelectorAll(
          ".sidebar-item .material-symbols-outlined"
        );

        sidebarItems.forEach((item, index) => {
          if (index === activeIndex) {
            item.classList.add("active");
            icons[index].classList.remove("inactive");
            icons[index].classList.add("active");
          } else {
            item.classList.remove("active");
            icons[index].classList.remove("active");
            icons[index].classList.add("inactive");
          }
        });
      }
    </script>
  </body>
</html>
